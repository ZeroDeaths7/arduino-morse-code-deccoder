<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Morse Code Decoder</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Morse Code Decoder</h1>
    <div class="container">
        <h2>Decoded Text:</h2>
        <p id="decodedText"></p>
    </div>

    <script>
        const decodedText = document.getElementById("decodedText");

        // Restore text from localStorage on page load
        decodedText.innerText = localStorage.getItem("decodedMessage") || "";

        // Live update decoded text using Server-Sent Events (SSE)
        const eventSource = new EventSource("/stream");
        eventSource.onmessage = function(event) {
            decodedText.innerText += event.data;  // Update latest decoded message
            localStorage.setItem("decodedMessage", decodedText.innerText); // Save it
        };
    </script>
</body>
</html>
